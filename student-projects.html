<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Discover innovative student projects at Kageyo TVET School in Gicumbi District, including AI-driven solutions in Software Development, Networking, Accounting, and Computer Systems">
    <meta name="author" content="jobeuse| yobu| job| iradukunda">
    <title>Student Projects | Kageyo TVET School</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="download.jpg">
    <link rel="apple-touch-icon" sizes="180x180" href="">
    <meta name="theme-color" content="#1D4ED8">

    <style>
        .hero-bg {
            background-image: url('projects-hero.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        .hero-overlay {
            background-image: linear-gradient(to bottom, rgba(29,78,216,0.2), rgba(29,78,216,0.8));
        }
        .dropdown-menu {
            display: none;
            transition: all 0.3s ease-in-out;
            z-index: 1000;
        }
        .dropdown-menu.active {
            display: block;
        }
        @media (min-width: 769px) {
            .dropdown-menu {
                position: absolute;
                background-color: #ffffff;
                box-shadow: 0 4px 8px rgba(0,0,0,0.1);
                border-radius: 0.375rem;
                min-width: 12rem;
                top: 100%;
                left: 0;
            }
        }
        @media (max-width: 768px) {
            #loader {
                position: absolute;
                left: 50%;
                top: 50%;
                z-index: 1;
                transform: translate(-50%, -50%);
            }
            .dropdown-menu {
                position: static;
                box-shadow: none;
                background-color: #f3f4f6;
                width: 100%;
                display: none;
            }
            .dropdown-menu.active {
                display: block;
            }
        }
        :focus {
            outline: 3px solid #1D4ED8;
            outline-offset: 2px;
        }
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }
        #chatbot-window {
            display: none;
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 360px;
            max-height: 480px;
            background-color: #ffffff;
            border-radius: 0.5rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            z-index: 1000;
            overflow: hidden;
        }
        #chatbot-window.active {
            display: block;
        }
        #chatbot-messages {
            height: 360px;
            overflow-y: auto;
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            flex-direction: column;
        }
        #chatbot-input {
            width: 100%;
            padding: 0.75rem;
            border: none;
            outline: none;
            font-size: 1rem;
        }
        #chatbot-input:focus {
            outline: 2px solid #1D4ED8;
        }
        #chatbot-header {
            background-color: #1D4ED8;
            color: white;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .chatbot-user-message {
            background-color: #e3f2fd;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            margin: 0.5rem 0;
            max-width: 80%;
            align-self: flex-end;
        }
        .chatbot-bot-message {
            background-color: #f3f4f6;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            margin: 0.5rem 0;
            max-width: 80%;
        }
        .chatbot-link {
            color: #1D4ED8;
            text-decoration: underline;
        }
        .project-card {
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease;
        }
        .project-card:hover {
            transform: scale(1.05);
        }
        .project-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(29,78,216,0.8);
            color: white;
            padding: 1rem;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }
        .project-card:hover .project-overlay {
            transform: translateY(0);
        }
        .ai-banner {
            background-size: cover;
            background-position: center;
            border-radius: 0.5rem;
            overflow: hidden;
            position: relative;
            height: 250px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        .ai-banner-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(29,78,216,0.7);
            z-index: 1;
        }
        .ai-banner-content {
            position: relative;
            z-index: 2;
            padding: 1rem;
        }
    </style>
</head>
<body class="bg-gray-50 font-roboto" onload="myFunction()">
    <!-- Header -->
    <header class="bg-white shadow" role="banner">
        <div class="bg-blue-600 text-white py-2">
            <div class="container mx-auto px-4 flex justify-end">
                <a href="https://wa.me/1234567890" target="_blank" class="hover:underline" aria-label="Join Kageyo TVET School WhatsApp Group">
                    <i class="fab fa-whatsapp mr-2" aria-hidden="true"></i>Join WhatsApp Group
                </a>
            </div>
        </div>
        <div class="container mx-auto px-4 py-4">
            <nav class="flex flex-wrap items-center justify-between" role="navigation" aria-label="Main navigation">
                <div class="flex items-center space-x-4">
                    <a href="index.html" aria-label="Kageyo TVET School Home">
                        <img src="logo.jpg" alt="Kageyo TVET School Logo" class="w-20 h-20">
                    </a>
                    <div>
                        <h1>
                            <a href="index.html" class="text-2xl font-bold text-blue-600">KAGEYO TVET SCHOOL</a>
                        </h1>
                        <p class="text-sm text-gray-500">WORK - COURAGE - SOLIDARITY</p>
                    </div>
                </div>
                <button class="md:hidden text-blue-600" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="navbar" onclick="toggleNav()">
                    <i class="fas fa-bars" aria-hidden="true"></i>
                    <span class="sr-only">Toggle menu</span>
                </button>
                <div id="navbar" class="hidden md:flex md:items-center w-full md:w-auto mt-4 md:mt-0" role="menu">
                    <ul class="flex flex-col md:flex-row md:space-x-6 w-full md:w-auto">
                        <li><a href="index.html" class="block py-2 text-blue-600 hover:text-blue-800" role="menuitem">Home</a></li>
                        <li><a href="about.html" class="block py-2 text-blue-600 hover:text-blue-800" role="menuitem">About Us</a></li>
                        <li><a href="apply job.html" class="block py-2 text-blue-600 hover:text-blue-800" role="menuitem">Apply for a Job</a></li>
                        <li class="relative dropdown">
                            <button class="block py-2 text-blue-600 hover:text-blue-800 flex items-center" aria-expanded="false" aria-controls="admin-menu" onclick="toggleDropdown('admin-menu')" role="menuitem">
                                Administration <i class="fas fa-chevron-down ml-2" aria-hidden="true"></i>
                                <span class="sr-only">Toggle Administration submenu</span>
                            </button>
                            <ul id="admin-menu" class="dropdown-menu bg-white shadow-lg mt-2 rounded-md w-48 z-10" role="menu" aria-labelledby="administration-button">
                                <li><a href="staff.html" class="block px-4 py-2 text-blue-600 hover:bg-blue-100" role="menuitem">Staff</a></li>
                            </ul>
                        </li>
                        <li><a href="trainers.html" class="block py-2 text-blue-600 hover:text-blue-800" role="menuitem">Trainers</a></li>
                        <li><a href="trades.html" class="block py-2 text-blue-600 hover:text-blue-800" role="menuitem">Trades</a></li>
                        <li class="relative dropdown">
                            <button class="block py-2 text-blue-600 hover:text-blue-800 flex items-center" aria-expanded="false" aria-controls="more-menu" onclick="toggleDropdown('more-menu')" role="menuitem">
                                More <i class="fas fa-chevron-down ml-2" aria-hidden="true"></i>
                                <span class="sr-only">Toggle More submenu</span>
                            </button>
                            <ul id="more-menu" class="dropdown-menu bg-white shadow-lg mt-2 rounded-md w-48 z-10" role="menu" aria-labelledby="more-button">
                                <li><a href="news.html" class="block px-4 py-2 text-blue-600 hover:bg-blue-100" role="menuitem">News</a></li>
                                <li><a href="events.html" class="block px-4 py-2 text-blue-600 hover:bg-blue-100" role="menuitem">Events</a></li>
                                <li><a href="announcements.html" class="block px-4 py-2 text-blue-600 hover:bg-blue-100" role="menuitem">Announcements</a></li>
                                <li><a href="best-performers.html" class="block px-4 py-2 text-blue-600 hover:bg-blue-100" role="menuitem">Best Performers</a></li>
                                <li><a href="head-teacher.html" class="block px-4 py-2 text-blue-600 hover:bg-blue-100" role="menuitem">Head Teacher</a></li>
                                <li><a href="student-papers.html" class="block px-4 py-2 text-blue-600 hover:bg-blue-100" role="menuitem">Student Papers</a></li>
                                <li><a href="employee-of-the-year.html" class="block px-4 py-2 text-blue-600 hover:bg-blue-100" role="menuitem">Employee of the Year</a></li>
                                <li><a href="forum.html" class="block px-4 py-2 text-blue-600 hover:bg-blue-100" role="menuitem">Forum</a></li>
                                <li><a href="developers.html" class="block px-4 py-2 text-blue-600 hover:bg-blue-100" role="menuitem">Developers</a></li>
                                <li><a href="student-projects.html" class="block px-4 py-2 text-blue-600 hover:bg-blue-100" role="menuitem">Student Projects</a></li>
                            </ul>
                        </li>
                        <li><a href="contact.html" class="block py-2 text-blue-600 hover:text-blue-800" role="menuitem">Contact</a></li>
                    </ul>
                </div>
            </nav>
        </div>
        <div class="hero-bg h-64 flex items-center justify-center text-center hero-overlay" role="region" aria-label="Hero section with quote">
            <div class="container mx-auto px-4">
                <h2 class="text-2xl font-bold text-white mb-4">"The best way to predict the future is to create it."</h2>
                <blockquote class="text-white">
                    <p>- Peter Drucker, Management Consultant</p>
                </blockquote>
            </div>
        </div>
    </header>

    <main role="main">
        <section class="py-12 bg-gradient-to-r from-blue-50 to-blue-100" aria-label="Student Projects Showcase">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-blue-700 mb-6 text-center">Showcasing Student Innovation</h2>
                <p class="text-gray-600 text-lg text-center mb-12 max-w-3xl mx-auto">Our students at Kageyo TVET School are pushing boundaries with projects, including AI-driven solutions, in Software Development, Networking, Accounting, and Computer Systems.</p>
                
                <!-- AI Banner 1 -->
                <div class="ai-banner mb-12" style="background-image: url('clv.jpg');">
                    <div class="ai-banner-overlay"></div>
                    <div class="ai-banner-content">
                        <h3 class="text-2xl font-bold mb-2">Join the AI Revolution!</h3>
                        <p class="mb-4">Explore our AI-powered student projects, like the Crop Yield Predictor, and learn AI in Software Development at Kageyo TVET.</p>
                        <a href="trades.html" class="inline-block bg-white text-blue-700 px-4 py-2 rounded hover:bg-blue-100" aria-label="Learn more about AI in Software Development">Learn More</a>
                    </div>
                </div>

                <div class="space-y-12">
                    <article class="project-card bg-white rounded-lg shadow-lg overflow-hidden">
                        <div class="flex flex-col md:flex-row">
                            <img src="project1.jpg" alt="Student project: AI Crop Yield Predictor" class="w-full md:w-1/3 h-64 object-cover">
                            <div class="p-6 md:w-2/3 relative">
                                <h3 class="text-2xl font-bold text-blue-700 mb-2">AI Crop Yield Predictor</h3>
                                <p class="text-gray-600 mb-4">Software Development students built an AI model to predict crop yields for Gicumbi farmers, using machine learning to optimize planting schedules.</p>
                                <p class="text-gray-500 text-sm mb-4">By: AI Innovators | Trade: Software Development | Year: 2025</p>
                                <a href="projects/crop-predictor.pdf" download class="inline-block text-blue-600 hover:text-blue-800 font-semibold" aria-label="Download project details for AI Crop Yield Predictor">Download Project Details <i class="fas fa-download ml-2" aria-hidden="true"></i></a>
                                <div class="project-overlay">
                                    <p class="text-sm">Developed using Python, TensorFlow, and weather APIs, this project showcases AI skills for agricultural innovation.</p>
                                </div>
                            </div>
                        </div>
                    </article>
                    <article class="project-card bg-white rounded-lg shadow-lg overflow-hidden">
                        <div class="flex flex-col md:flex-row-reverse">
                            <img src="project2.jpg" alt="Student project: Network Security Dashboard" class="w-full md:w-1/3 h-64 object-cover">
                            <div class="p-6 md:w-2/3 relative">
                                <h3 class="text-2xl font-bold text-blue-700 mb-2">Network Security Dashboard</h3>
                                <p class="text-gray-600 mb-4">Networking and IT students developed a dashboard to monitor network traffic and detect cyber threats, tailored for Kaniga Sector businesses.</p>
                                <p class="text-gray-500 text-sm mb-4">By: CyberGuard Team | Trade: Networking & IT | Year: 2024</p>
                                <a href="projects/network-dashboard.pdf" download class="inline-block text-blue-600 hover:text-blue-800 font-semibold" aria-label="Download project details for Network Security Dashboard">Download Project Details <i class="fas fa-download ml-2" aria-hidden="true"></i></a>
                                <div class="project-overlay">
                                    <p class="text-sm">Utilizes Python and Grafana for real-time data visualization, demonstrating advanced networking skills.</p>
                                </div>
                            </div>
                        </div>
                    </article>

                    <!-- AI Banner 2 -->
                    <div class="ai-banner mb-12" style="background-image: url('ai-banner2.jpg');">
                        <div class="ai-banner-overlay"></div>
                        <div class="ai-banner-content">
                            <h3 class="text-2xl font-bold mb-2">Build the Future with AI</h3>
                            <p class="mb-4">Dive into AI projects like our Chatbot Assistant and join our Software Development trade to master AI technologies.</p>
                            <a href="contact.html" class="inline-block bg-white text-blue-700 px-4 py-2 rounded hover:bg-blue-100" aria-label="Contact us to learn about AI projects">Contact Us</a>
                        </div>
                    </div>

                    <article class="project-card bg-white rounded-lg shadow-lg overflow-hidden">
                        <div class="flex flex-col md:flex-row">
                            <img src="project3.jpg" alt="Student project: AI Chatbot Assistant" class="w-full md:w-1/3 h-64 object-cover">
                            <div class="p-6 md:w-2/3 relative">
                                <h3 class="text-2xl font-bold text-blue-700 mb-2">AI Chatbot Assistant</h3>
                                <p class="text-gray-600 mb-4">Software Development students created an AI-powered chatbot to assist students with course queries and career guidance at Kageyo TVET.</p>
                                <p class="text-gray-500 text-sm mb-4">By: SmartTalk Team | Trade: Software Development | Year: 2025</p>
                                <a href="projects/chatbot-assistant.pdf" download class="inline-block text-blue-600 hover:text-blue-800 font-semibold" aria-label="Download project details for AI Chatbot Assistant">Download Project Details <i class="fas fa-download ml-2" aria-hidden="true"></i></a>
                                <div class="project-overlay">
                                    <p class="text-sm">Built with Python, NLTK, and Flask, this chatbot uses natural language processing to provide instant support.</p>
                                </div>
                            </div>
                        </div>
                    </article>
                    <article class="project-card bg-white rounded-lg shadow-lg overflow-hidden">
                        <div class="flex flex-col md:flex-row-reverse">
                            <img src="project4.jpg" alt="Student project: Custom PC Assembly Guide" class="w-full md:w-1/3 h-64 object-cover">
                            <div class="p-6 md:w-2/3 relative">
                                <h3 class="text-2xl font-bold text-blue-700 mb-2">Custom PC Assembly Guide</h3>
                                <p class="text-gray-600 mb-4">Computer Systems students produced a detailed guide for assembling affordable PCs using locally sourced components.</p>
                                <p class="text-gray-500 text-sm mb-4">By: Tech Builders | Trade: Computer Systems | Year: 2024</p>
                                <a href="projects/pc-assembly.pdf" download class="inline-block text-blue-600 hover:text-blue-800 font-semibold" aria-label="Download project details for Custom PC Assembly Guide">Download Project Details <i class="fas fa-download ml-2" aria-hidden="true"></i></a>
                                <div class="project-overlay">
                                    <p class="text-sm">Includes detailed diagrams and cost breakdowns, emphasizing practical hardware skills.</p>
                                </div>
                            </div>
                        </div>
                    </article>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-blue-900 text-white py-12" role="contentinfo">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h2><a href="index.html" class="text-2xl font-bold" aria-label="Kageyo TVET School Home">Kageyo TVET School</a></h2>
                    <p class="mt-2">Work - Courage - Solidarity</p>
                    <p class="mt-2">
                        Northern Province<br>
                        Gicumbi District<br>
                        Kaniga Sector
                    </p>
                </div>
                <div>
                    <h2 class="text-xl font-bold mb-4">Useful Links</h2>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="hover:underline" aria-label="Go to Home page">Home</a></li>
                        <li><a href="about.html" class="hover:underline" aria-label="Go to About Us page">About Us</a></li>
                        <li><a href="news.html" class="hover:underline" aria-label="Go to News page">News</a></li>
                        <li><a href="trades.html" class="hover:underline" aria-label="Go to Trades page">Trades</a></li>
                        <li><a href="contact.html" class="hover:underline" aria-label="Go to Contact page">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h2 class="text-xl font-bold mb-4">Information</h2>
                    <ul class="space-y-2">
                        <li><a href="developers.html" class="hover:underline" aria-label="Go to Developers page">Developers</a></li>
                        <li><a href="student-projects.html" class="hover:underline" aria-label="Go to Student Projects page">Student Projects</a></li>
                    </ul>
                </div>
                <div class="space-y-4">
                    <h2 class="text-xl font-bold mb-4">Location</h2>
                    <img src="kt.jpg" alt="Kageyo TVET School location near Kageyo sector office" class="w-full max-w-[300px] h-[200px] object-cover rounded-lg mb-4">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3987.329223456789!2d30.119!3d-1.678!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMWHCrDQwJzQwLjgiUyAzMMKwMDcnMTYuNCJF!5e0!3m2!1sen!2srw!4v1739898299999!5m2!1sen!2srw" width="300" height="200" style="border:0;" allowfullscreen="" loading="lazy" aria-label="Map showing Kageyo TVET School location" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    <a href="https://www.google.com/maps/@-1.678,30.121,15z" target="_blank" class="text-blue-300 hover:underline" aria-label="View larger map of Kageyo TVET School location">View Larger Map</a>
                    <p class="space-y-2">
                        Northern Province<br>
                        Gicumbi District<br>
                        Kaniga Sector<br>
                        Near Kageyo Tea Factory<br>
                        <a href="tel:0788521465" class="hover:underline">Phone: 0788521465</a>
                    </p>
                </div>
            </div>
            <div class="mt-8 text-center">
                <p>© Kageyo TVET School 2025</p>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <section id="scroll-top" class="fixed bottom-4 right-4 hidden">
        <button class="bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700" aria-label="Scroll to top of page">
            <i class="fas fa-arrow-up" aria-hidden="true"></i>
        </button>
    </section>

    <!-- Chatbot Button and Window -->
    <section id="chatbot" class="fixed bottom-4 right-16">
        <button id="chatbot-toggle" class="bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700" aria-label="Toggle chat window" aria-expanded="false" aria-controls="chatbot-window">
            <i class="fas fa-comment-dots" aria-hidden="true"></i>
            <span class="sr-only">Open chat</span>
        </button>
        <div id="chatbot-window" role="dialog" aria-label="Chat with Kageyo TVET School assistant">
            <div id="chatbot-header">
                <span>Kageyo TVET Assistant</span>
                <button id="chatbot-close" class="text-white hover:text-gray-200" aria-label="Close chat window">
                    <i class="fas fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <div id="chatbot-messages" aria-live="polite">
                <div class="chatbot-bot-message">Hi there! I’m super excited to help with any questions about Kageyo TVET School or our AI-driven student projects. Ask about AI learning, projects like the Crop Yield Predictor, or anything else, and I’ll guide you with a smile!</div>
            </div>
            <div class="p-2">
                <input id="chatbot-input" type="text" placeholder="Ask about our AI projects or anything else!" aria-label="Type your question or concern">
                <button id="chatbot-send" class="bg-blue-600 text-white px-4 py-2 mt-2 rounded hover:bg-blue-700" aria-label="Send message">Send</button>
            </div>
        </div>
    </section>

    <div id="loader" class="text-center" aria-live="polite">Loading site</div>

    <script>
        function myFunction() {
            setTimeout(showPage, 3000);
        }

        function showPage() {
            document.getElementById("loader").style.display = "none";
            document.getElementById("scroll-top").style.display = "block";
        }

        function toggleNav() {
            const nav = document.getElementById("navbar");
            const button = document.querySelector("button[aria-controls='navbar']");
            const isExpanded = nav.classList.toggle("hidden");
            button.setAttribute("aria-expanded", !isExpanded);
        }

        function toggleDropdown(menuId) {
            const menu = document.getElementById(menuId);
            const button = document.querySelector(`button[aria-controls="${menuId}"]`);
            const isExpanded = menu.classList.toggle("active");
            button.setAttribute("aria-expanded", isExpanded);
        }

        document.querySelectorAll('.dropdown').forEach(dropdown => {
            const button = dropdown.querySelector('button');
            const menu = dropdown.querySelector('.dropdown-menu');
            let timeout;

            dropdown.addEventListener('click', (e) => {
                if (window.innerWidth <= 768) {
                    e.preventDefault();
                    toggleDropdown(menu.id);
                }
            });

            if (window.innerWidth > 768) {
                dropdown.addEventListener('mouseenter', () => {
                    clearTimeout(timeout);
                    menu.classList.add('active');
                    button.setAttribute('aria-expanded', 'true');
                });

                dropdown.addEventListener('mouseleave', () => {
                    timeout = setTimeout(() => {
                        menu.classList.remove('active');
                        button.setAttribute('aria-expanded', 'false');
                    }, 200);
                });

                menu.addEventListener('mouseenter', () => {
                    clearTimeout(timeout);
                });

                menu.addEventListener('mouseleave', () => {
                    timeout = setTimeout(() => {
                        menu.classList.remove('active');
                        button.setAttribute('aria-expanded', 'false');
                    }, 200);
                });
            }

            button.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    toggleDropdown(menu.id);
                }
            });
        });

        document.querySelector('#scroll-top button').addEventListener('click', (e) => {
            e.preventDefault();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        const navigationMap = {
            'home': { url: 'index.html', name: 'Home' },
            'about': { url: 'about.html', name: 'About Us' },
            'about us': { url: 'about.html', name: 'About Us' },
            'apply': { url: 'apply job.html', name: 'Apply for a Job' },
            'apply for a job': { url: 'apply job.html', name: 'Apply for a Job' },
            'job': { url: 'apply job.html', name: 'Apply for a Job' },
            'administration': { url: 'staff.html', name: 'Staff' },
            'staff': { url: 'staff.html', name: 'Staff' },
            'trainers': { url: 'trainers.html', name: 'Trainers' },
            'trades': { url: 'trades.html', name: 'Trades' },
            'news': { url: 'news.html', name: 'News' },
            'events': { url: 'events.html', name: 'Events' },
            'announcements': { url: 'announcements.html', name: 'Announcements' },
            'best performers': { url: 'best-performers.html', name: 'Best Performers' },
            'head teacher': { url: 'head-teacher.html', name: 'Head Teacher' },
            'student papers': { url: 'student-papers.html', name: 'Student Papers' },
            'employee of the year': { url: 'employee-of-the-year.html', name: 'Employee of the Year' },
            'forum': { url: 'forum.html', name: 'Forum' },
            'developers': { url: 'developers.html', name: 'Developers' },
            'student projects': { url: 'student-projects.html', name: 'Student Projects' },
            'contact': { url: 'contact.html', name: 'Contact' }
        };

        const helpMessage = `I’m thrilled to assist you with Kageyo TVET School! I can solve problems like:
- Job applications and salary info
- School fees and payment plans
- Choosing a trade
- Career planning
- Student registration
- Parent questions (e.g., student progress)
- Accommodation options
- Extracurricular activities
- AI-driven student projects
Or navigate to pages by saying "go to [page]" (e.g., Home, Trades, Contact). Try "go to student projects" or ask about an AI project, like "Tell me about the AI Crop Yield Predictor"! I’m here to help with a smile!`;

        function detectProblem(message) {
            const lowerMessage = message.toLowerCase().trim();
            const emotionalPrefixes = [
                'I’m thrilled to help!',
                'Let’s tackle this together!',
                'I’m here with a smile to guide you!',
                'You’ve got this, and I’m cheering you on!'
            ];
            const randomPrefix = emotionalPrefixes[Math.floor(Math.random() * emotionalPrefixes.length)];

            if (lowerMessage.includes('salary') || lowerMessage.includes('pay') || lowerMessage.includes('wage') || lowerMessage.includes('income')) {
                return {
                    type: 'salary',
                    response: `${randomPrefix} Curious about salaries at Kageyo TVET School? Here’s the breakdown for 2025:
- Trainers (e.g., Software Development, Accounting): 500,000–800,000 RWF/month, depending on experience.
- Administrative Staff: 300,000–600,000 RWF/month.
- Support Staff (e.g., maintenance): 150,000–300,000 RWF/month.
Exact salaries vary based on qualifications. Contact HR at 0788521465 for specifics or check out the <a href="apply job.html" class="chatbot-link">Apply for a Job</a> page to join us! Want more details?`
                };
            } else if (lowerMessage.includes('job') || lowerMessage.includes('apply') || lowerMessage.includes('employment')) {
                return {
                    type: 'job',
                    response: `${randomPrefix} Applying for a job is exciting! Kageyo TVET School is hiring trainers for Networking, Software Development, and Accounting until June 1, 2025. Here’s how:
1. Prepare a CV (1-2 pages) with qualifications (e.g., A0 degree) and references.
2. Write a cover letter tailored to the trade, showing your passion.
3. Submit via the <a href="apply job.html" class="chatbot-link">Apply for a Job</a> page or email to jobs@kageyotvet.rw.
4. Follow up with HR at 0788521465. Salaries for trainers range from 500,000–800,000 RWF/month. Ready to apply or need CV tips?`
                };
            } else if (lowerMessage.includes('fee') || lowerMessage.includes('cost') || lowerMessage.includes('payment') || lowerMessage.includes('scholarship')) {
                return {
                    type: 'fees',
                    response: `${randomPrefix} I’m sorry fees are on your mind—let’s sort it out! For Level 3 trades (e.g., Software Development, Accounting), the annual fee is ~300,000 RWF, split into two 150,000 RWF installments. Pay via:
- Bank of Kigali (Account: 123456789)
- MTN Mobile Money (code: KAGEYO123)
Scholarships are available for top students—call 0788521465 to apply. Late payments add a 5% penalty, but installment plans are possible. Need to contact the finance office?`
                };
            } else if (lowerMessage.includes('trade') || lowerMessage.includes('course') || lowerMessage.includes('program') || lowerMessage.includes('study')) {
                return {
                    type: 'trade',
                    response: `${randomPrefix} Choosing a trade is a big step, and I’m excited for you! Kageyo offers:
- Software Development: Great for coding and AI enthusiasts.
- Networking and Internet Technology: Perfect for IT fans.
- Accounting: Ideal for number crunchers.
- Computer System and Architecture: Suits hardware enthusiasts.
Visit <a href="trades.html" class="chatbot-link">Trades</a> for details. Our June 15, 2025, career workshop can help you decide—check <a href="events.html" class="chatbot-link">Events</a>. Interested in AI? Ask about our Software Development trade!`
                };
            } else if (lowerMessage.includes('career') || lowerMessage.includes('future') || lowerMessage.includes('job market') || lowerMessage.includes('guidance')) {
                return {
                    type: 'career',
                    response: `${randomPrefix} Planning your career is huge, and I’m here to cheer you on! Kageyo’s trades (e.g., Software Development with AI) build skills like teamwork and problem-solving. Join our career workshop on June 15, 2025 (<a href="events.html" class="chatbot-link">Events</a>) to prep for the job market. Connect with students via our <a href="https://wa.me/1234567890" class="chatbot-link">WhatsApp group</a>. Want tips for an AI career path?`
                };
            } else if (lowerMessage.includes('register') || lowerMessage.includes('enroll') || lowerMessage.includes('admission') || lowerMessage.includes('join')) {
                return {
                    type: 'registration',
                    response: `${randomPrefix} Excited to join Kageyo TVET School? Here’s how to register for 2025:
1. Complete the application form (available on <a href="student-papers.html" class="chatbot-link">Student Papers</a>).
2. Submit ID, academic transcripts, and proof of payment (first term: 150,000 RWF).
3. Deadline: July 15, 2025. Visit the school or call 0788521465 to submit.
Want to focus on AI? Check out Software Development on <a href="trades.html" class="chatbot-link">Trades</a>. Need help with the form?`
                };
            } else if (lowerMessage.includes('parent') || lowerMessage.includes('student progress') || lowerMessage.includes('guardian') || lowerMessage.includes('child')) {
                return {
                    type: 'parent',
                    response: `${randomPrefix} I’m happy to help parents stay connected! Kageyo offers:
- Parent-teacher meetings: Next one is July 10, 2025 (<a href="events.html" class="chatbot-link">Events</a>).
- Progress reports: Available termly via the school office.
- Policies: Check <a href="announcements.html" class="chatbot-link">Announcements</a> for updates (e.g., COVID-19 rules).
Call 0788521465 or join our <a href="https://wa.me/1234567890" class="chatbot-link">WhatsApp group</a> for parent updates. Curious about AI projects? Ask me!`
                };
            } else if (lowerMessage.includes('accommodation') || lowerMessage.includes('housing') || lowerMessage.includes('dorm') || lowerMessage.includes('stay')) {
                return {
                    type: 'accommodation',
                    response: `${randomPrefix} Looking for a place to stay? Kageyo TVET School offers:
- On-campus dorms: ~100,000 RWF/term, includes utilities (limited spots).
- Nearby rentals: Kaniga Sector, ~50,000–80,000 RWF/month.
Contact the administration at 0788521465 to reserve a dorm or get a housing list. Studying AI? You’ll love our Software Development community!`
                };
            } else if (lowerMessage.includes('activities') || lowerMessage.includes('club') || lowerMessage.includes('sport') || lowerMessage.includes('extracurricular')) {
                return {
                    type: 'activities',
                    response: `${randomPrefix} Love getting involved? Kageyo has awesome activities:
- Sports: Join the Athletism Competition (May 29, 2022, <a href="events.html" class="chatbot-link">Events</a>).
- Clubs: Tech Club (great for AI enthusiasts!), Accounting Society, and Cultural Dance Group.
- Events: Check <a href="events.html" class="chatbot-link">Events</a> for upcoming festivals.
Call 0788521465 or visit the school to sign up. Want to join the Tech Club for AI projects?`
                };
            } else if (lowerMessage.includes('project') || lowerMessage.includes('student project') || lowerMessage.includes('work') || lowerMessage.includes('ai')) {
                return {
                    type: 'projects',
                    response: `${randomPrefix} Excited about our student projects? Our AI-driven projects shine in Software Development! Check out:
- AI Crop Yield Predictor: Uses machine learning to optimize farming.
- AI Chatbot Assistant: Helps students with queries using NLP.
- Network Security Dashboard: Monitors cyber threats.
- Custom PC Assembly Guide: Teaches affordable PC building.
See details on the <a href="student-projects.html" class="chatbot-link">Student Projects</a> page or call 0788521465 for more info. Want to know about a specific AI project?`
                };
            } else if (lowerMessage.includes('event') || lowerMessage.includes('news') || lowerMessage.includes('announcement') || lowerMessage.includes('contact')) {
                return {
                    type: 'general',
                    response: `${randomPrefix} Got a question? I’m all ears:
- Events: Like the Athletism Competition (May 29, 2022, <a href="events.html" class="chatbot-link">Events</a>).
- News: See our 25th Anniversary (<a href="news.html" class="chatbot-link">News</a>).
- Announcements: Check <a href="announcements.html" class="chatbot-link">Announcements</a>.
- Contact: Call 0788521465 or visit <a href="contact.html" class="chatbot-link">Contact</a>.
Curious about our AI projects? Ask about the <a href="student-projects.html" class="chatbot-link">Student Projects</a> page!`
                };
            }
            return null;
        }

        async function sendMessageToGrok(message) {
            const apiUrl = 'https://api.x.ai/v1/grok';
            const apiKey = 'YOUR_XAI_API_KEY';

            const websiteContext = `
Kageyo TVET School is a public technical school in Gicumbi District, Kaniga Sector, Northern Province, Rwanda, near Kageyo tea factory. The head teacher is Ayinkamiye Domitille (phone: 0788521465), managing since 2014. The school offers trades: Software Development, Networking and Internet Technology, Computer System and Architecture, and Accounting. Vision: Be a center of excellence in human resource development. Mission: Provide competence-based training for national and international development. Core values: Customer Care, Result-based Performance, Professionalism, Integrity, Transparency, Accountability.

**Student Projects**:
- AI Crop Yield Predictor (Software Development, 2025): Predicts crop yields for Gicumbi farmers using machine learning, built with Python, TensorFlow, and weather APIs.
- AI Chatbot Assistant (Software Development, 2025): Assists students with course queries using NLP, developed with Python, NLTK, and Flask.
- Network Security Dashboard (Networking & IT, 2024): Monitors network traffic and cyber threats for local businesses, using Python and Grafana.
- Custom PC Assembly Guide (Computer Systems, 2024): Guides affordable PC building with local components, includes diagrams.
Details on <a href="student-projects.html" class="chatbot-link">Student Projects</a>.

**Salary Information (2025)**:
- Trainers: 500,000–800,000 RWF/month, based on experience.
- Administrative Staff: 300,000–600,000 RWF/month.
- Support Staff: 150,000–300,000 RWF/month.
- Contact HR at 0788521465.

**School Fees Information**:
- Annual fees for Level 3 trades: ~300,000 RWF, payable in two installments (150,000 RWF/term).
- Payment methods: Bank of Kigali (Account: 123456789) or MTN Mobile Money (code: KAGEYO123).
- Scholarships: Limited for top students; contact 0788521465.
- Late payments: 5% penalty after 30 days.

**Job Application Process**:
- Open positions: Trainers for Networking, Software Development, Accounting (deadline: June 1, 2025).
- Steps: Submit CV (1-2 pages, A0 degree, references), cover letter via <a href="apply job.html" class="chatbot-link">Apply for a Job</a> or jobs@kageyotvet.rw, follow up at 0788521465.

**Trades Information**:
- Software Development: Coding, app development, AI and machine learning.
- Networking and Internet Technology: IT infrastructure, cybersecurity.
- Accounting: Financial management, bookkeeping.
- Computer System and Architecture: Hardware, system design.
- Details on <a href="trades.html" class="chatbot-link">Trades</a>.

**Student Registration**:
- Process: Submit application form (<a href="student-papers.html" class="chatbot-link">Student Papers</a>), ID, transcripts, first-term payment (150,000 RWF).
- Deadline: July 15, 2025.
- Contact: 0788521465.

**Parent Communication**:
- Parent-teacher meetings: July 10, 2025 (<a href="events.html" class="chatbot-link">Events</a>).
- Progress reports: Termly via school office.
- Policies: See <a href="announcements.html" class="chatbot-link">Announcements</a>.
- Contact: 0788521465 or <a href="https://wa.me/1234567890" class="chatbot-link">WhatsApp group</a>.

**Accommodation**:
- On-campus dorms: ~100,000 RWF/term, includes utilities.
- Nearby rentals: Kaniga Sector, ~50,000–80,000 RWF/month.
- Contact: 0788521465.

**Extracurricular Activities**:
- Sports: Athletism Competition (May 29, 2022, <a href="events.html" class="chatbot-link">Events</a>).
- Clubs: Tech Club (includes AI projects), Accounting Society, Cultural Dance Group.
- Contact: 0788521465.

**Career Guidance**:
- Workshops: June 15, 2025 (<a href="events.html" class="chatbot-link">Events</a>).
- Community: <a href="https://wa.me/1234567890" class="chatbot-link">WhatsApp group</a>.

**Website Pages**:
- Home (index.html), About Us (about.html), Apply for a Job (apply job.html), Staff (staff.html), Trainers (trainers.html), Trades (trades.html), News (news.html), Events (events.html), Announcements (announcements.html), Best Performers (best-performers.html), Head Teacher (head-teacher.html), Student Papers (student-papers.html), Employee of the Year (employee-of-the-year.html), Forum (forum.html), Developers (developers.html), Student Projects (student-projects.html), Contact (contact.html).

**Additional Support**:
- Contact: 0788521465 or <a href="contact.html" class="chatbot-link">Contact</a>.
- Navigation: Say "go to [page]".
- Community: <a href="https://wa.me/1234567890" class="chatbot-link">WhatsApp group</a>.`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`,
                    },
                    body: JSON.stringify({
                        prompt: `You are Grok 3, created by xAI, acting as an empathetic chatbot for Kageyo TVET School's website. Solve user problems with clear, actionable advice, using varied emotions (e.g., excitement, encouragement) and dynamic phrases (e.g., "I’m pumped to help!"). Identify problems (e.g., salary, AI projects, registration) and provide tailored solutions with HTML links (e.g., <a href="student-projects.html" class="chatbot-link">Student Projects</a>). For navigation, do not respond as it’s handled separately. For unclear problems, ask for clarification and suggest contacting 0788521465.

**Problem-Solving Guidance**:
- Salary: Share ranges (e.g., trainers: 500,000–800,000 RWF/month).
- Job Applications: Guide on CV, cover letter, submission via <a href="apply job.html" class="chatbot-link">Apply for a Job</a>.
- Fees: Detail structure, payments, scholarships.
- Trades: Describe options, highlight AI in Software Development, link to <a href="trades.html" class="chatbot-link">Trades</a>.
- Projects: Highlight AI projects (e.g., Crop Yield Predictor), link to <a href="student-projects.html" class="chatbot-link">Student Projects</a>.
- Registration: Outline steps, link to <a href="student-papers.html" class="chatbot-link">Student Papers</a>.
- Parents: Share meeting dates, policies, WhatsApp group.
- Accommodation: Detail dorms, rentals.
- Activities: List sports, clubs (highlight Tech Club for AI), link to <a href="events.html" class="chatbot-link">Events</a>.

Context: ${websiteContext}

User question: ${message}`,
                        max_tokens: 250,
                        model: 'grok-3'
                    }),
                });

                if (!response.ok) {
                    throw new Error('API request failed');
                }

                const data = await response.json();
                return data.choices[0].text.trim();
            } catch (error) {
                console.error('Error communicating with Grok API:', error);
                return 'Oh no, I’m having a little trouble right now. Please try again or call Kageyo TVET School at 0788521465. I’m eager to help you soon!';
            }
        }

        const chatbotToggle = document.getElementById('chatbot-toggle');
        const chatbotWindow = document.getElementById('chatbot-window');
        const chatbotClose = document.getElementById('chatbot-close');
        const chatbotSend = document.getElementById('chatbot-send');
        const chatbotInput = document.getElementById('chatbot-input');
        const chatbotMessages = document.getElementById('chatbot-messages');

        function toggleChatbot() {
            const isExpanded = chatbotWindow.classList.toggle('active');
            chatbotToggle.setAttribute('aria-expanded', isExpanded);
            if (isExpanded) {
                chatbotInput.focus();
            } else {
                chatbotToggle.focus();
            }
        }

        chatbotToggle.addEventListener('click', toggleChatbot);
        chatbotClose.addEventListener('click', toggleChatbot);

        chatbotToggle.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                toggleChatbot();
            }
        });

        chatbotClose.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                toggleChatbot();
            }
        });

        chatbotWindow.addEventListener('keydown', (e) => {
            if (e.key === 'Tab') {
                const focusableElements = chatbotWindow.querySelectorAll('button, input');
                const firstElement = focusableElements[0];
                const lastElement = focusableElements[focusableElements.length - 1];
                if (e.shiftKey && document.activeElement === firstElement) {
                    e.preventDefault();
                    lastElement.focus();
                } else if (!e.shiftKey && document.activeElement === lastElement) {
                    e.preventDefault();
                    firstElement.focus();
                }
            } else if (e.key === 'Escape') {
                toggleChatbot();
            }
        });

        chatbotSend.addEventListener('click', async () => {
            const message = chatbotInput.value.trim();
            if (message) {
                const userMessage = document.createElement('div');
                userMessage.className = 'chatbot-user-message';
                userMessage.innerHTML = `<strong>You:</strong> ${message}`;
                chatbotMessages.appendChild(userMessage);
                chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
                chatbotInput.value = '';

                const loadingMessage = document.createElement('div');
                loadingMessage.className = 'chatbot-bot-message';
                loadingMessage.innerHTML = '<strong>Grok:</strong> Hang on, I’m putting my heart into finding the best solution for you!';
                chatbotMessages.appendChild(loadingMessage);
                chatbotMessages.scrollTop = chatbotMessages.scrollHeight;

                const navResult = handleNavigation(message);
                if (navResult) {
                    loadingMessage.remove();
                    const botMessage = document.createElement('div');
                    botMessage.className = 'chatbot-bot-message';
                    if (navResult.action === 'navigate') {
                        botMessage.innerHTML = `<strong>Grok:</strong> Yay, I’ll whisk you to the <a href="${navResult.url}" class="chatbot-link">${navResult.name}</a> page in a moment!`;
                        chatbotMessages.appendChild(botMessage);
                        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
                        setTimeout(() => {
                            window.location.href = navResult.url;
                        }, 1000);
                    } else if (navResult.action === 'help') {
                        botMessage.innerHTML = `<strong>Grok:</strong> ${navResult.message}`;
                        chatbotMessages.appendChild(botMessage);
                        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
                    } else {
                        botMessage.innerHTML = `<strong>Grok:</strong> ${navResult.message}`;
                        chatbotMessages.appendChild(botMessage);
                        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
                    }
                } else {
                    const problemResult = detectProblem(message);
                    if (problemResult) {
                        loadingMessage.remove();
                        const botMessage = document.createElement('div');
                        botMessage.className = 'chatbot-bot-message';
                        botMessage.innerHTML = `<strong>Grok:</strong> ${problemResult.response}`;
                        chatbotMessages.appendChild(botMessage);
                        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
                    } else {
                        const botResponse = await sendMessageToGrok(message);
                        loadingMessage.remove();
                        const botMessage = document.createElement('div');
                        botMessage.className = 'chatbot-bot-message';
                        botMessage.innerHTML = `<strong>Grok:</strong> ${botResponse}`;
                        chatbotMessages.appendChild(botMessage);
                        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
                    }
                }
            }
        });

        chatbotInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                chatbotSend.click();
            }
        });
    </script>
</body>
</html>